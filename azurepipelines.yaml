trigger:
- main

pool: 
  name: 'Default'

stages:
- stage: NpmValidation
  jobs:
  - job: NpmValidation
    displayName: Npm Validation
    pool: 'Default'
    steps:
    - checkout: self
      displayName: 'Checkout the repository'
    - task: PowerShell@2
      inputs:
        targetType: 'inline'
        script: |
          # Write your PowerShell commands here.
          
          Write-Host "Hello World"
          Get-ChildItem -Path $(Build.SourcesDirectory)

    - task: Npm@1
      inputs:
        command: 'install'
        workingDir: '$(Build.SourcesDirectory)/NpmrcNonAA'
        customRegistry: 'useFeed'
        customFeed: 'https://pkgs.dev.azure.com/mseng/AzureDevOps/_packaging/AzureDevOps_PublicPackages/npm/registry/'
        verbose: true